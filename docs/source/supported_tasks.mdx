# Supported Transformers & Diffusers Tasks

Inference Endpoints offers out-of-the-box support for Machine Learning tasks from the following libraries:

- Transformers
- Sentence-Transformers
- Diffusers (for the Text To Image task)

Below is a table of Hugging Face managed supported tasks for Inference Endpoint. These tasks don't require any form of code or [“custom container”](/docs/inference-endpoints/guides/custom_container) to deploy an Endpoint. 
If you want to customize any of the tasks below, or want to write your own custom task, check out the [“Create your own inference handler”](/docs/inference-endpoints/guides/custom_handler) section for more information. 

Most of the tasks below uses the `pipeline` object, and more information about what additional parameters can be sent to the endpoint is available [here](https://huggingface.co/docs/transformers/main_classes/pipelines).

| Task                           | Framework                                                                                             | Out of the box Support |
|--------------------------------|-------------------------------------------------------------------------------------------------------|------------------------|
| Text To Image                  | <span class="underline decoration-pink-400 decoration-2 font-semibold">Diffusers</span>               | ✅                      |
| Text Classification            | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Zero Shot Classification       | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Token Classifiation            | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Question Answering             | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Fill Mask                      | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Summarization                  | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Translation                    | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Text to Text Generation        | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Text Generation                | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Feature Extraction             | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Sentence Embeddings            | <span class="underline decoration-yellow-400 decoration-2 font-semibold">Sentence Transformers</span> | ✅                      |
| Sentence Similarity            | <span class="underline decoration-yellow-400 decoration-2 font-semibold">Sentence Transformers</span> | ✅                      |
| Ranking                        | <span class="underline decoration-yellow-400 decoration-2 font-semibold">Sentence Transformers</span> | ✅                      |
| Image Classification           | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Automatic Speech Recognition   | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Audio Classification           | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Object Detection               | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Image Segmentation             | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Table Question Answering       | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Conversational                 | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ✅                      |
| Custom                         | Custom                                                                                                | ✅                      |
| Visual Question Answering      | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ❌                      |
| Zero Shot Image Classification | <span class="underline decoration-sky-400 decoration-2 font-semibold">Transformers</span>             | ❌                      |


## Example Request payloads

See the following request examples for some of the tasks:

### Custom Handler

```json
{
  "inputs": "This is a sample input",
  "moreData": 1,
  "customTask": true
}
```

### Text Classification

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.TextClassificationPipeline).


#### Classifying a single text
```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

#### Classifying a text pair
```json
{
  "inputs": {
    "text": "This sound track was beautiful!",
    "text_pair": "It paints the scenery in your mind so well I would recomend it even to people who hate vid. game music!"
  } 
}
```

### Zero Shot Classification

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.ZeroShotClassificationPipeline).

```json
{
  "inputs": "Hi, I recently bought a device from your company but it is not working as advertised and I would like to get reimbursed!",
  "parameters": {
    "candidate_labels": ["refund", "legal", "faq"]
  }
}
```

### Token Classifiation

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.TokenClassificationPipeline).

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Question Answering

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.QuestionAnsweringPipeline).

```json
{
  "inputs": {
    "question": "What is used for inference?",
    "context": "My Name is Philipp and I live in Nuremberg. This model is used with sagemaker for inference."
  }
}
```

### Fill Mask

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.FillMaskPipeline).

```json
{
  "inputs": "This sound track was <mask>! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Summarization

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.SummarizationPipeline).

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Translation

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.TranslationPipeline).

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Text to Text Generation

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.Text2TextGenerationPipeline).

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Text Generation

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.TextGenerationPipeline).

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Feature Extraction

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.FeatureExtractionPipeline).

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Sentence Embeddings

If using a [TEI container](https://github.com/huggingface/text-embeddings-inference), see [this reference](https://huggingface.github.io/text-embeddings-inference/) for additional parameters.

```json
{
  "inputs": "This sound track was beautiful! It paints the scenery in your mind so well I would recomend it
  even to people who hate vid. game music!"
}
```

### Sentence similarity

```json
{
  "inputs": {
    "sentences": ["This sound track was beautiful!", "It paints the scenery in your mind so well"],
    "source_sentence": "What a wonderful day to listen to music"
  }
}
```

### Ranking

```json
{
  "inputs": ["This sound track was beautiful!", "It paints the scenery in your mind so well"]
}
```

### Image Classification

Image Classification can receive `json` payloads or binary data from a `image` directly.

**JSON**

```json
{
  "inputs": "/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgI"
}
```

**Binary**
```bash
curl --request POST \
  --url https://{ENDPOINT}/ \
  --header 'Content-Type: image/jpg' \
  --header 'Authorization: Bearer {HF_TOKEN}' \
  --data-binary '@test.jpg'
```

### Automatic Speech Recognition

Automatic Speech Recognition can receive `json` payloads or binary data from a `audio` directly. For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.AutomaticSpeechRecognitionPipeline).

**JSON**

```json
{
  "inputs": "/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgI"
}
```

**Binary**
```bash
curl --request POST \
  --url https://{ENDPOINT}/ \
  --header 'Content-Type: audio/x-flac' \
  --header 'Authorization: Bearer {HF_TOKEN}' \
  --data-binary '@sample.flac'
```


### Audio Classification

Audio Classification can receive `json` payloads or binary data from a `audio` directly. For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.AudioClassificationPipeline).

**JSON**

```json
{
  "inputs": "/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgI"
}
```

**Binary**
```bash
curl --request POST \
  --url https://{ENDPOINT}/ \
  --header 'Content-Type: audio/x-flac' \
  --header 'Authorization: Bearer {HF_TOKEN}' \
  --data-binary '@sample.flac'
```


### Object Detection 

Object Detection can receive `json` payloads or binary data from a `image` directly. For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.ObjectDetectionPipeline).

**JSON**

```json
{
  "inputs": "/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgI"
}
```

**Binary**

```bash
curl --request POST \
  --url https://{ENDPOINT}/ \
  --header 'Content-Type: image/jpg' \
  --header 'Authorization: Bearer {HF_TOKEN}' \
  --data-binary '@test.jpg'
```

### Image Segmentation

Image Segmentation can receive `json` payloads or binary data from a `image` directly. For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.ImageSegmentationPipeline).

**JSON**

```json
{
  "inputs": "/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgI"
}
```

**Binary**

```bash
curl --request POST \
  --url https://{ENDPOINT}/ \
  --header 'Content-Type: image/jpg' \
  --header 'Authorization: Bearer {HF_TOKEN}' \
  --data-binary '@test.jpg'
```

### Table Question Answering

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.TableQuestionAnsweringPipeline).

```json
{
  "inputs": {
    "query": "How many stars does the transformers repository have?",
    "table": {
      "Repository": ["Transformers", "Datasets", "Tokenizers"],
      "Stars": ["36542", "4512", "3934"],
      "Contributors": ["651", "77", "34"],
      "Programming language": ["Python", "Python", "Rust, Python and NodeJS"]
    }
  }
}
```

### Conversational

For additional parameters, see this [reference](https://huggingface.co/docs/transformers/main_classes/pipelines#transformers.Conversation).

```json
{"inputs": [
  {
      "role": "user",
      "content": "Which movie is the best ?"
  },
  {
      "role": "assistant",
      "content": "It's Die Hard for sure."
  },
  {
      "role": "user",
      "content": "Can you explain why?"
  }
]}
```

### Text To Image

```json
{        
  "inputs": "realistic render portrait realistic render portrait of group of flying blue whales towards the moon, intricate, toy, sci - fi, extremely detailed, digital painting, sculpted in zbrush, artstation, concept art, smooth, sharp focus, illustration, chiaroscuro lighting, golden ratio, incredible art by artgerm and greg rutkowski and alphonse mucha and simon stalenhag",
}
```


### Additional parameters

You can add additional parameters, which are supported by the `pipelines` api from transformers. 

For Example if you have a `text-generation` pipeline you can provide `generation_kwargs` for `repetition_penalty` or `max_length`

```json
{
  "inputs": "Hugging Face, the winner of VentureBeat’s Innovation in Natural Language Process/Understanding Award for 2021, is looking to level the playing field. The team, launched by Clément Delangue and Julien Chaumond in 2016, was recognized for its work in democratizing NLP, the global market value for which is expected to hit $35.1 billion by 2026. This week, Google’s former head of Ethical AI Margaret Mitchell joined the team.",
  "parameters": {
    "repetition_penalty": 4.0,
    "max_length": 128
  }
}
```

